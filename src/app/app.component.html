<tui-root>
  <div class="container-fluid flex-column">
    <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between p-2 border-bottom shadow-4">
      <div class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
        <button
          tuiIconButton
          appearance="primary"
          size="m"
          type="button"
          shape="rounded"
          class="tui-space_left-1 tui-space_right-3"
          icon="tuiIconMenu"
          (click)="onClick($event)">
        </button>

        <form class="b-form" [formGroup]="testForm" style="width: 100%;">
          <tui-input 
            formControlName="testValue"
            tuiTextfieldSize="m"
            [tuiTextfieldCleaner]="true"
            [tuiTextfieldLabelOutside]="true"
            tuiTextfieldIconLeft="tuiIconSearch">
            Поиск
            <input
              tuiTextfield
              type="text"
              placeholder="Поиск"
              tuiTextfieldIcon="tuiIconMenu"/>
          </tui-input>
        </form>
      </div>

      <div class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none justify-content-end">
        <div class="col-md-3 text-end" *ngIf="!authorized">
          <button
            tuiButton
            appearance="primary"
            size="m"
            type="button"
            [shape]="null"
            class="tui-space_left-3 tui-space_right-1 tui-space_top-1 tui-space_bottom-1"
            (click)="openLoginModal()">
          Войти
          </button>
        </div>
        <div class="dropdown" *ngIf="authorized">
          <a href="#" class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle" id="dropdownUser2" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="https://github.com/mdo.png" alt="" width="32" height="32" class="rounded-circle me-2">
            <strong>mdo</strong>
          </a>
          <!-- <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownUser2">
            <li><a class="dropdown-item" href="#">New project...</a></li>
            <li><a class="dropdown-item" href="#">Settings</a></li>
            <li><a class="dropdown-item" href="#">Profile</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Sign out</a></li>
          </ul> -->
        </div>
      </div>
    </header>

    <div class="d-flex">
      <aside class="d-flex flex-column flex-shrink-0 border-end shadow-4" [ngClass]="sidebarOpened ? 'opened' : 'closed'">
        <tui-accordion class="container-fluid" [rounded]="false" [closeOthers]="false">
          <tui-accordion-item routerLink="/home" [showArrow]="false"> 
            Главная
          </tui-accordion-item>
          <tui-accordion-item>
            Репозитории
            <ng-template tuiAccordionItemContent>
              <div #content class="pb-2 mb-2 border-bottom">
                <a routerLink="/repositories" class="">Открыть список</a>
              </div>
              <ul class="tui-list tui-list_linear ps-0">
                <li class="tui-list__item d-flex justify-content-between">
                  <a routerLink="/repositories/1">Repo 1</a>
                  <button
                    tuiIconButton
                    appearance="flat"
                    size="xs"
                    icon="tuiIconClose"
                    shape="rounded"
                    title="Remove"
                    class="remove"
                  ></button>
                </li>
                <li class="tui-list__item d-flex justify-content-between">
                  <a routerLink="/repositories/2">Repo 2</a>
                  <button
                    tuiIconButton
                    appearance="flat"
                    size="xs"
                    icon="tuiIconClose"
                    shape="rounded"
                    title="Remove"
                    class="remove"
                  ></button>
                </li>
                <li class="tui-list__item d-flex justify-content-between">
                  <a routerLink="/repositories/3">Repo 3</a>
                  <button
                    tuiIconButton
                    appearance="flat"
                    size="xs"
                    icon="tuiIconClose"
                    shape="rounded"
                    title="Remove"
                    class="remove"
                  ></button>
                </li>
              </ul>    
            </ng-template>
          </tui-accordion-item>
          <tui-accordion-item>
            Отрывки
            <ng-template tuiAccordionItemContent>
              <div #content class="pb-2 mb-2 border-bottom">
                <a routerLink="/repositories" class="">Открыть список</a>
              </div>
              <ul class="tui-list tui-list_linear ps-0">
                <li class="tui-list__item d-flex justify-content-between">
                  <a routerLink="/snippets/1">Snippet 1</a>
                  <button
                    tuiIconButton
                    appearance="flat"
                    size="xs"
                    icon="tuiIconClose"
                    shape="rounded"
                    title="Remove"
                    class="remove"
                  ></button>
                </li>
                <li class="tui-list__item d-flex justify-content-between">
                  <a routerLink="/snippets/2">Snippet 2</a>
                  <button
                    tuiIconButton
                    appearance="flat"
                    size="xs"
                    icon="tuiIconClose"
                    shape="rounded"
                    title="Remove"
                    class="remove"
                  ></button>
                </li>
                <li class="tui-list__item d-flex justify-content-between">
                  <a routerLink="/snippets/3">Snippet 3</a>
                  <button
                    tuiIconButton
                    appearance="flat"
                    size="xs"
                    icon="tuiIconClose"
                    shape="rounded"
                    title="Remove"
                    class="remove"
                  ></button>
                </li>
              </ul>    
            </ng-template>
          </tui-accordion-item>
        </tui-accordion>
      </aside>   
      <main class="container-fluid">
        <div class="p-3 rounded border-1">
          <router-outlet></router-outlet>
        </div> 
      </main>
    </div>
  </div>
</tui-root>